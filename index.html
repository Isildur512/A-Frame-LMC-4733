<!DOCTYPE html>
<html>
  <head>
    <script src="https://aframe.io/releases/1.4.1/aframe.min.js"></script>
    <script>
      AFRAME.registerComponent('squares', {
        init: function () {
          // Solution for Getting Entities.
          var sceneEl = document.querySelector('a-scene');  // Or this.el since we're in a component.
          
          var counter = 1
          const colors = ["Red", "Blue", "Yellow"]
          for (var i = 0; i < 20; i++) {
            var xPos = Math.random() * 20 - 10
            var yPos = Math.random() * 20 - 10
            var zPos = -10
            for (var j = 0; j < 20; j++) {
              var boxEl = document.createElement('a-box');
              if (counter % 3 == 0) {
                boxEl.setAttribute('material', {color: colors[2]});
              } else if (counter % 2 == 0) {
                boxEl.setAttribute('material', {color: colors[1]});
              } else {
                boxEl.setAttribute('material', {color: colors[0]});
              }
              boxEl.setAttribute('position', {x: xPos, y: yPos, z: zPos});
              boxEl.setAttribute('scale', {x: 1, y: 1, z: 0.01});
              sceneEl.appendChild(boxEl);
              zPos += 1;
            }
            counter += 1;
          }
        }
      });
    </script>
  </head>
  <body>
    <a-scene squares>
      <a-sky color="#ECECEC"></a-sky>
    </a-scene>
  </body>
</html>